@model Wagebat.Models.Comment

@{
    ViewData["Title"] = "Details";
    var counter = 0;
    var cLinksCounter = 1;
    var attachmentCount = Model.CommentAttachments.Count;
}

<!-- ======= Frequently Asked Questions Section ======= -->
<section id="faq" class="faq section-bg" style="margin-top: 74px">
    <div id="container" class="container" data-aos="fade-up">

        <div class="section-title">
            <h2>Comment Details</h2>
            <p></p>
        </div>


        <div class="row">
            <div class="col-@(attachmentCount > 0 && Model.CommentAttachments.Any(ca => ca.IsImage)? 8 : 12) card" style="padding-top: 12px; padding-left: 24px;">
                <h1 style="padding-left: 0px;">Comment</h1>
                <div>
                    <hr />
                    <dl class="row">
                        <dt class="col-sm-2">
                            By
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.User.UserName)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Date)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.Date)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Body)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.Raw(Model.Body)
                        </dd>
                        @if (attachmentCount > 0 && Model.CommentAttachments.Any(ta => ta.IsImage == false))
                        {
                            <dt class="col-sm-2">
                                Attachments
                            </dt>
                            <dd class="col-sm-10">
                                @foreach (var attachment in Model.CommentAttachments)
                                {
                                    if (!attachment.IsImage)
                                    {
                                        <a class="btn btn-primary" target="_blank" href="@Href(attachment.Path)">Attachment @(cLinksCounter++)</a>
                                    }
                                }
                            </dd>
                        }
                    </dl>
                </div>


            </div>
            @if (Model.CommentAttachments.Count > 0 && Model.CommentAttachments.Any(ca => ca.IsImage))
            {
                <div class="col-4 card">

                    <!-- ======= Portfolio Section ======= -->
                    <section id="portfolio" class="portfolio">

                        <div class="container" data-aos="fade-up">

                            <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">

                                <div class="portfolio-item filter-app">
                                    @foreach (var item in Model.CommentAttachments)
                                    {
                                        if (item.IsImage)
                                        {
                                            if (counter++ == 0)
                                            {
                                            <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">

                                                <div class="portfolio-item filter-app">
                                                    <div class="portfolio-img">
                                                        <img src="@item.Path" class="img-fluid" alt="">
                                                    </div>
                                                    <div class="portfolio-info" style="height:100%; background:none;">
                                                        @*<h4>Question Images</h4>*@
                                                        @*<p>App</p>*@
                                                        <a style=" right: 42%; color: #47b2e4;" href="@item.Path" data-gallery="portfolioGallery" class="portfolio-lightbox preview-link" title="App 1"><i style="font-size: 34px; position: relative;" class="bx bx-zoom-in"></i></a>
                                                        <a href="portfolio-details.html" class="details-link" title="More Details"></a>
                                                    </div>
                                                </div>
                                            </div>
                                            }
                                            else
                                            {
                                            <div style="display:none;" class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">

                                                <div class="portfolio-item filter-app">
                                                    <div class="portfolio-img"><img src="@item.Path" class="img-fluid" alt=""></div>
                                                    <div class="portfolio-info">
                                                        <h4>Question Images</h4>
                                                        @*<p>App</p>*@
                                                        <a href="@item.Path" data-gallery="portfolioGallery" class="portfolio-lightbox preview-link" title="App 1"><i class="bx bx-plus"></i></a>
                                                        <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
                                                    </div>
                                                </div>
                                            </div>
                                            }

                                        }
                                    }
                                </div>

                            </div>

                        </div>
                    </section><!-- End Portfolio Section -->

                </div>
            }
        </div>
    </div>
</section>
<!-- End Frequently Asked Questions Section -->

